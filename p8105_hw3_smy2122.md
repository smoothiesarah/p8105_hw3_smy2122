p8105_hw3_smy2122
================
Sarah Younes

First, I will load all the packages I will need for this homework
assignment: tidyverse.

``` r
library(tidyverse)
```

# Problem 1

First, I will load the Instacart data set.

``` r
library(p8105.datasets)
data("instacart")
```

Now, I will create a data frame for the Instacart data set.

``` r
instacart_df =
  p8105.datasets::instacart
```

The Instacart data set contains 15 variables and 1384617 observations.

The Instacart dataset contains 134 aisles. The aisle most frequently
ordered from is aisle 83, otherwise known as fresh vegetables.

Now, I will make a plot that shows the number of items ordered in each
aisle for aisles with more than 10,000 items ordered.

``` r
instacart_df |>
  group_by(aisle) |>
  summarize(count = n_distinct(product_name))
```

    ## # A tibble: 134 × 2
    ##    aisle                  count
    ##    <chr>                  <int>
    ##  1 air fresheners candles   234
    ##  2 asian foods              495
    ##  3 baby accessories          22
    ##  4 baby bath body care       90
    ##  5 baby food formula        606
    ##  6 bakery desserts          216
    ##  7 baking ingredients       523
    ##  8 baking supplies decor    185
    ##  9 beauty                    88
    ## 10 beers coolers            225
    ## # ℹ 124 more rows

Now, I will make a table showing the three most popular items in 3
aisles and the number of times each item was ordered.

``` r
instacart_df |>
  filter(
    aisle == c("baking ingredients", "dog food care", "packaged vegetables fruits")
  ) |>
  select(aisle, product_name, order_id)
```

    ## # A tibble: 31,339 × 3
    ##    aisle                      product_name                      order_id
    ##    <chr>                      <chr>                                <int>
    ##  1 packaged vegetables fruits Super Greens Salad                      36
    ##  2 packaged vegetables fruits Organic Biologique Limes                38
    ##  3 packaged vegetables fruits Organic Raspberries                     96
    ##  4 packaged vegetables fruits Organic Raspberries                     98
    ##  5 baking ingredients         Organic Corn Starch                     98
    ##  6 packaged vegetables fruits Asian Chopped Salad with Dressing      170
    ##  7 packaged vegetables fruits BBQ Ranch Chopped Salad                170
    ##  8 packaged vegetables fruits Baby Spinach                           170
    ##  9 packaged vegetables fruits Organic Blueberries                    226
    ## 10 packaged vegetables fruits Organic Shredded Carrots               844
    ## # ℹ 31,329 more rows

Now, I will make a table showing the mean hour of the day at which two
items were ordered on each day of the week.

# Problem 2

First, I will load the BRFSS dataset.

``` r
library(p8105.datasets)
data("brfss_smart2010")
```

Now, I will create a data frame for the data set and do some data
cleaning: formatting the data to use appropriate variable names,
filtering the data set to focus on the “Overall Health” topic, and
organizing responses as a factor taking levels ordered from “Poor” to
“Excellent.”

``` r
brffs_df =
  p8105.datasets::brfss_smart2010 |>
  janitor::clean_names() |>
  separate(locationdesc, into = c("state", "county"), sep = 5) |>
  select(everything(), -state) |>
  rename(state = locationabbr) |>
  filter(topic == "Overall Health") |>
  mutate(response = forcats::fct_relevel(response, c("Poor", "Fair", "Good", "Very good", "Excellent")))
```

Now, I will identify the states that were observed at 7 or more
locations in 2002 and 2010.

``` r
brffs_df |>
  filter(year == 2002)
```

    ## # A tibble: 785 × 23
    ##     year state county       class topic question response sample_size data_value
    ##    <int> <chr> <chr>        <chr> <chr> <chr>    <fct>          <int>      <dbl>
    ##  1  2002 AL    Jefferson C… Heal… Over… How is … Excelle…          92       18.5
    ##  2  2002 AL    Jefferson C… Heal… Over… How is … Very go…         142       30.9
    ##  3  2002 AL    Jefferson C… Heal… Over… How is … Good             167       32.7
    ##  4  2002 AL    Jefferson C… Heal… Over… How is … Fair              60       12.1
    ##  5  2002 AL    Jefferson C… Heal… Over… How is … Poor              31        5.9
    ##  6  2002 AK    Anchorage M… Heal… Over… How is … Excelle…         116       27.9
    ##  7  2002 AK    Anchorage M… Heal… Over… How is … Very go…         137       33.7
    ##  8  2002 AK    Anchorage M… Heal… Over… How is … Good             104       23.8
    ##  9  2002 AK    Anchorage M… Heal… Over… How is … Fair              37        8.6
    ## 10  2002 AK    Anchorage M… Heal… Over… How is … Poor              22        5.9
    ## # ℹ 775 more rows
    ## # ℹ 14 more variables: confidence_limit_low <dbl>, confidence_limit_high <dbl>,
    ## #   display_order <int>, data_value_unit <chr>, data_value_type <chr>,
    ## #   data_value_footnote_symbol <chr>, data_value_footnote <chr>,
    ## #   data_source <chr>, class_id <chr>, topic_id <chr>, location_id <chr>,
    ## #   question_id <chr>, respid <chr>, geo_location <chr>

``` r
brffs_df |>
  filter(year == 2010)
```

    ## # A tibble: 1,510 × 23
    ##     year state county       class topic question response sample_size data_value
    ##    <int> <chr> <chr>        <chr> <chr> <chr>    <fct>          <int>      <dbl>
    ##  1  2010 AL    Jefferson C… Heal… Over… How is … Excelle…          94       18.9
    ##  2  2010 AL    Jefferson C… Heal… Over… How is … Very go…         148       30  
    ##  3  2010 AL    Jefferson C… Heal… Over… How is … Good             208       33.1
    ##  4  2010 AL    Jefferson C… Heal… Over… How is … Fair             107       12.5
    ##  5  2010 AL    Jefferson C… Heal… Over… How is … Poor              45        5.5
    ##  6  2010 AL    Mobile Coun… Heal… Over… How is … Excelle…          91       15.6
    ##  7  2010 AL    Mobile Coun… Heal… Over… How is … Very go…         177       31.3
    ##  8  2010 AL    Mobile Coun… Heal… Over… How is … Good             224       31.2
    ##  9  2010 AL    Mobile Coun… Heal… Over… How is … Fair             120       15.5
    ## 10  2010 AL    Mobile Coun… Heal… Over… How is … Poor              66        6.4
    ## # ℹ 1,500 more rows
    ## # ℹ 14 more variables: confidence_limit_low <dbl>, confidence_limit_high <dbl>,
    ## #   display_order <int>, data_value_unit <chr>, data_value_type <chr>,
    ## #   data_value_footnote_symbol <chr>, data_value_footnote <chr>,
    ## #   data_source <chr>, class_id <chr>, topic_id <chr>, location_id <chr>,
    ## #   question_id <chr>, respid <chr>, geo_location <chr>

Now, I will make a spaghetti plot.

``` r
brffs_df |>
  filter(response == "Excellent") |>
  group_by(state) |>
  mutate(mean_data_value = mean(data_value)) |>
  select(year, state, mean_data_value)
```

    ## # A tibble: 2,125 × 3
    ## # Groups:   state [51]
    ##     year state mean_data_value
    ##    <int> <chr>           <dbl>
    ##  1  2010 AL               18.6
    ##  2  2010 AL               18.6
    ##  3  2010 AL               18.6
    ##  4  2010 AZ               21.4
    ##  5  2010 AZ               21.4
    ##  6  2010 AZ               21.4
    ##  7  2010 AR               21.9
    ##  8  2010 AR               21.9
    ##  9  2010 AR               21.9
    ## 10  2010 CA               23.3
    ## # ℹ 2,115 more rows

# Problem 3
