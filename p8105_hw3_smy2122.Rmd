---
title: "p8105_hw3_smy2122"
author: "Sarah Younes"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

First, I will load all the packages I will need for this homework assignment: tidyverse.

```{r load packages, message = FALSE}
library(tidyverse)
```

# Problem 1

First, I will load the Instacart data set.

```{r load instacart dataset}
library(p8105.datasets)
data("instacart")
```

Now, I will create a data frame for the Instacart data set.

```{r}
instacart_df =
  p8105.datasets::instacart
```

The Instacart data set contains `r ncol(instacart_df)` variables and `r nrow(instacart_df)` observations.

The Instacart dataset contains `r length(unique(instacart_df$aisle_id))` aisles. The aisle most frequently ordered from is aisle `r names(which.max(table(instacart_df$aisle_id)))`, otherwise known as `r names(which.max(table(instacart_df$aisle)))`.

Now, I will make a plot that shows the number of items ordered in each aisle for aisles with more than 10,000 items ordered.

```{r}
instacart_df |>
  group_by(aisle) |>
  summarize(count = n_distinct(product_name))
```

Now, I will make a table showing the three most popular items in 3 aisles and the number of times each item was ordered.

```{r}
instacart_df |>
  filter(
    aisle == c("baking ingredients", "dog food care", "packaged vegetables fruits")
  ) |>
  select(aisle, product_name, order_id)
```

Now, I will make a table showing the mean hour of the day at which two items were ordered on each day of the week.

```{r}
```

# Problem 2

First, I will load the BRFSS dataset.

```{r}
library(p8105.datasets)
data("brfss_smart2010")
```

Now, I will create a data frame for the data set and do some data cleaning: formatting the data to use appropriate variable names, filtering the data set to focus on the "Overall Health" topic, and organizing responses as a factor taking levels ordered from "Poor" to "Excellent."

```{r}
brffs_df =
  p8105.datasets::brfss_smart2010 |>
  janitor::clean_names() |>
  separate(locationdesc, into = c("state", "county"), sep = 5) |>
  select(everything(), -state) |>
  rename(state = locationabbr) |>
  filter(topic == "Overall Health") |>
  mutate(response = forcats::fct_relevel(response, c("Poor", "Fair", "Good", "Very good", "Excellent")))
```

Now, I will identify the states that were observed at 7 or more locations in 2002 and 2010.

```{r}
brffs_df |>
  filter(year == 2002)

brffs_df |>
  filter(year == 2010)
```

Now, I will make a spaghetti plot.

```{r}
brffs_df |>
  filter(response == "Excellent") |>
  group_by(state) |>
  mutate(mean_data_value = mean(data_value)) |>
  select(year, state, mean_data_value)
```

```{r}
```

# Problem 3